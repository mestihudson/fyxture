CREATE TABLE AUTOR (ID BIGINT IDENTITY(1,1) NOT NULL, VERSION BIGINT NOT NULL, NOME VARCHAR(255) NOT NULL);
ALTER TABLE AUTOR ADD CONSTRAINT PK_ID_AUTOR PRIMARY KEY CLUSTERED (ID) WITH (STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON);
CREATE TABLE LIVRO (ID BIGINT IDENTITY(1,1) NOT NULL, VERSION BIGINT NOT NULL, TITULO VARCHAR(255) NOT NULL, ANO BIGINT NOT NULL);
ALTER TABLE LIVRO ADD CONSTRAINT PK_ID_LIVRO PRIMARY KEY CLUSTERED (ID) WITH (STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON);
CREATE TABLE AUTOR_LIVRO (AUTOR_ID BIGINT NOT NULL, LIVRO_ID BIGINT NOT NULL);
ALTER TABLE AUTOR_LIVRO ADD  CONSTRAINT PK_AUTOR_LIVRO PRIMARY KEY CLUSTERED (AUTOR_ID ASC, LIVRO_ID ASC) WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON);
ALTER TABLE AUTOR_LIVRO WITH CHECK ADD CONSTRAINT FK_AUTOR_ID FOREIGN KEY (AUTOR_ID) REFERENCES AUTOR (ID);
ALTER TABLE AUTOR_LIVRO CHECK CONSTRAINT FK_AUTOR_ID;
ALTER TABLE AUTOR_LIVRO WITH CHECK ADD CONSTRAINT FK_LIVRO_ID FOREIGN KEY (LIVRO_ID) REFERENCES LIVRO (ID);
ALTER TABLE AUTOR_LIVRO CHECK CONSTRAINT FK_LIVRO_ID;
