# configurações gerais
common:
  # nome do padrão
  datasource: h2
  table:
    # informa onde os arquivos de fyxtures devem ser gerados
    # default: null
    auto: src/test/common/resources/filterable
    # sufixo dos arquivos .yml que contem as instancias das tabelas
    suffix: table
    # identificador das instâncias padrão das tabelas
    default: default
    # ordem em que as tabelas devem sofrer 'delete' durante clear()
    #clear: [AUTOR_LIVRO, LIVRO, AUTOR]
#  verify:
#    excludes: [schema_version]

# lista de datasources que podem ser utilizados em init(...)
datasource:
  h2:
    dialect: h2
    schema: PUBLIC
    driver: org.h2.Driver
    url: jdbc:h2:target/fyxture
    user: sa
    password:
    sequences:
      LIVRO:
        ID: SQ_ID_LIVRO
      AUTOR:
        ID: SQ_ID_AUTOR
    excludes: [schema_*]
    unclear:

  oracle:
    dialect: oracle
    schema: FYXTURE
    driver: oracle.jdbc.driver.OracleDriver
    url: jdbc:oracle:thin:@//fyxture:1521/xe
    user: fyxture
    password: fyxture
    sequences:
      LIVRO:
        ID: SQ_ID_LIVRO
      AUTOR:
        ID: SQ_ID_AUTOR
    excludes: [schema_*]
    unclear: []

  sqlserver:
    dialect: sqlserver
    schema: dbo
    driver: net.sourceforge.jtds.jdbc.Driver
    url: jdbc:jtds:sqlserver://w7:1433/fyxture
    user: sa
    password: s3nh@
    sequences:
      LIVRO:
        ID:
      AUTOR:
        ID:
    excludes: [schema_*]
    unclear: []
    # use aspas simples (') para forçar um candidato a número como string
    # password: '11111111'
    # use aspas simples (') para quotar strings que devem possuir aspas duplas no início e no fim
    # password: '"11111111"'
    # use aspas simples (") para quotar strings que devem possuir aspas simples no início e no fim
    # password: "'11111111'"
    # use '$' para não tratar o elemento seguinte como string, ou seja, não quotar a expressão
    # password: $newid()

  sinesp:
    dialect: oracle
    schema: SEGURANCA_MANUTENCAO
    driver: oracle.jdbc.driver.OracleDriver
    url: jdbc:oracle:thin:@//vm:1521/xe
    user: SEGURANCA_MANUTENCAO
    password: SEGURANCA_MANUTENCAO
    excludes: [schema_*, ^H_*]
    unclear: [TIPO_ESPEC_ESTRUT_ORG, MUNICIPIO, UNIDADE_FEDERATIVA, PAIS]
    sequences:
      PESSOA:
        CO_IDENTIFICACAO: SQ_CO_IDENTIFICACAO
        ID_PESSOA: SQ_ID_PESSOA
      CADASTRADOR_INTELIGENCIA:
        ID_CADASTRADOR_INTELIGENCIA: SQ_ID_CADASTRADOR_INTELIGENCIA
      CADASTRADOR_SISTEMA:
        ID_CADASTRADOR_SISTEMA: SQ_ID_CADASTRADOR_SISTEMA
      CARGO:
        ID_CARGO: SQ_ID_CARGO
      CLASSIFICACAO_ESTRUTURA:
        ID_CLASSIFICACAO_ESTRUTURA: SQ_ID_CLASSIFICACAO_ESTRUTURA
      CORREIO_ELETRONICO:
        ID_CORREIO_ELETRONICO: SQ_ID_CORREIO_ELETRONICO
      ENDERECO:
        ID_ENDERECO: SQ_ID_ENDERECO
      ESTRUT_ORG_CADAST_SIST:
        ID_ESTRUT_ORG_CADAST_SIST: SQ_ID_ESTRUT_ORG_CADAST_SIST
      ESTRUT_ORG_PESSOA_SIST:
        ID_ESTRUT_ORG_PESSOA_SIST: SQ_ID_ESTRUT_ORG_PESSOA_SIST
      ESTRUTURA_ORGANIZACIONAL:
        ID_ESTRUTURA_ORGANIZACIONAL: SQ_ID_ESTRUTURA_ORGANIZACIONAL
      FUNCIONALIDADE:
        ID_FUNCIONALIDADE: SQ_ID_FUNCIONALIDADE
      HISTORICO_SITUACAO:
        ID_HISTORICO_SITUACAO: SQ_ID_HISTORICO_SITUACAO
      PERFIL:
        ID_PERFIL: SQ_ID_PERFIL
      PESSOA_ANEXO:
        ID_PESSOA_ANEXO: SQ_ID_PESSOA_ANEXO
      PESSOA_SISTEMA:
        ID_PESSOA_SISTEMA: SQ_ID_PESSOA_SISTEMA
      REVISAO_AUDITORIA:
        ID_REVISAO_AUDITORIA: SQ_ID_REVISAO_AUDITORIA
      SISTEMA:
        ID_SISTEMA: SQ_ID_SISTEMA
      TELEFONE:
        ID_TELEFONE: SQ_ID_TELEFONE

# sequence: [SQ_ID_LIVRO, SQ_ID_AUTOR]

# table:
#   LIVRO:
#     sequence:
#       # SQ_ID_LIVRO: ID
#       name: SQ_ID_LIVRO
#       column: ID
#   AUTOR:
#     sequence:
#       # SQ_ID_AUTOR: ID
#       name: SQ_ID_AUTOR
#       column: ID

load:
  inicial: [AUTOR, LIVRO]
  outra-carga:
    AUTOR: [default, segundo-autor, terceiro]
    LIVRO: [festa-no-ceu]
    AUTOR_LIVRO: [default, segundo-autor, terceiro]

verify:
  todos:
    # verifica se todas as tabelas informadas como parametro do count tem resultado igual ao informado
    count(AUTOR, LIVRO): 1
    # verifica se todas as tabelas não informadas como parametro do count tem resultado igual ao informado
    count~(AUTOR, LIVRO): 0
